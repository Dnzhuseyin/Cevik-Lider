<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groq API Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold mb-8">ğŸ¤– Groq API Test</h1>

        <div class="bg-gray-800 p-6 rounded-lg mb-6">
            <h3 class="text-xl font-bold mb-4">API Bilgileri:</h3>
            <p class="text-sm text-gray-400 mb-2">API Key: <code class="bg-gray-900 px-2 py-1 rounded">gsk_0A9V...GrdPm</code></p>
            <p class="text-sm text-gray-400">Model: <code class="bg-gray-900 px-2 py-1 rounded">llama-3.3-70b-versatile</code></p>
        </div>

        <div class="bg-gray-800 p-6 rounded-lg mb-6">
            <label class="block text-lg font-bold mb-2">Test Prompt'u:</label>
            <textarea id="prompt" rows="3" class="w-full bg-gray-900 p-4 rounded border border-gray-700 text-white" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n...">Merhaba! Kendini tanÄ±t.</textarea>
            <button onclick="testGroqAPI()" class="mt-4 bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded font-semibold">
                Test Et
            </button>
        </div>

        <div id="status" class="mb-6 p-4 rounded bg-gray-800 hidden">
            <p class="font-bold">Durum:</p>
            <p id="status-text"></p>
        </div>

        <div class="bg-gray-800 p-6 rounded-lg">
            <h3 class="text-xl font-bold mb-4">SonuÃ§:</h3>
            <pre id="result" class="bg-gray-900 p-4 rounded text-sm overflow-auto max-h-96 whitespace-pre-wrap"></pre>
        </div>
    </div>

    <script src="js/groq-api.js"></script>
    <script>
        let groqAPI;

        async function testGroqAPI() {
            const prompt = document.getElementById('prompt').value;
            const statusDiv = document.getElementById('status');
            const statusText = document.getElementById('status-text');
            const resultDiv = document.getElementById('result');

            if (!prompt.trim()) {
                alert('LÃ¼tfen bir prompt girin!');
                return;
            }

            // Show status
            statusDiv.classList.remove('hidden');
            statusDiv.className = 'mb-6 p-4 rounded bg-blue-900';
            statusText.textContent = 'Ä°stek gÃ¶nderiliyor...';
            resultDiv.textContent = 'Bekleniyor...';

            try {
                console.log('ğŸš€ Groq API test baÅŸlatÄ±ldÄ±');
                console.log('Prompt:', prompt);

                // Initialize GroqAPI if not already
                if (!groqAPI) {
                    groqAPI = new GroqAPI();
                }

                // Call generateContent
                const response = await groqAPI.generateContent(prompt, '');

                console.log('âœ… YanÄ±t alÄ±ndÄ±:', response);

                // Show success
                statusDiv.className = 'mb-6 p-4 rounded bg-green-900';
                statusText.textContent = 'âœ… BaÅŸarÄ±lÄ±!';

                // Display result
                resultDiv.textContent = JSON.stringify(response, null, 2);

            } catch (error) {
                console.error('âŒ Hata:', error);

                // Show error
                statusDiv.className = 'mb-6 p-4 rounded bg-red-900';
                statusText.textContent = 'âŒ Hata: ' + error.message;

                resultDiv.textContent = 'HATA:\n\n' + error.message + '\n\n' + (error.stack || '');
            }
        }

        // Auto-initialize
        window.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ¤– Groq API Test sayfasÄ± hazÄ±r');
            groqAPI = new GroqAPI();
        });
    </script>
</body>
</html>
